<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>script.py</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>script.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <p>Modules used for the Web Scraper</p>
<p>This list comprises of a short description fo each module and usage.</p>
<ol>
<li><strong>Requests</strong> - The requests module allows you to send HTTP requests using Python.</li>
</ol>
<p>The HTTP request returns a Response Object with all the response data (content, encoding, status, etc).</p>
<ol>
<li>
<p><strong>JSON</strong> - If you have a Python object, you can convert it into a JSON string by using the json.dumps() method(line148).</p>
</li>
<li>
<p><strong>YAML</strong> - YAML is a data serialization format designed for human readability and interaction with scripting languages.</p>
</li>
<li>
<p><strong>BeautifulSoup4</strong> - Beautiful Soup is a Python library for pulling data out of HTML and XML files.</p>
</li>
<li>
<p><strong>Console</strong> - package that makes it easy to generate the inline codes used to display colors and character styles in ANSI-compatible terminals and emulators.</p>
</li>
<li>
<p><strong>Table</strong> - Python interface to the Casacore tables module. A casacore table is similar to a relational data base table with the extension that table cells can contain n-dimensional arrays.</p>
</li>
<li>
<p><strong>Yaspin</strong> - Yaspin provides a full-featured terminal spinner to show the progress during long-hanging operations.</p>
</li>
</ol>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span>    
    
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">rich.console</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span> <span class="nn">rich.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">yaspin</span> <span class="kn">import</span> <span class="n">yaspin</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p>The URL to send requests to using the requests module</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">language</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>
<span class="n">URL</span> <span class="o">=</span> <span class="s2">&quot;https://summerofcode.withgoogle.com/organizations/&quot;</span>
<span class="n">organization_list</span> <span class="o">=</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <p>The Class that is responsible for the data management.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">1. **Self** - The self is used to represent the instance of the class. With this keyword, you can access the attributes and methods of the class in python.</span>

<span class="sd">2. **Name** - argument to store the name of the organization.</span>

<span class="sd">3. **IRC** - store the url of the IRC channel.</span>

<span class="sd">4. **org_page** - Store the class page.</span>

<span class="sd">5. **tech_stack** - store the languages used.</span>
<span class="sd">&#39;&#39;&#39;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Organization</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">irc</span><span class="p">,</span> <span class="n">org_page</span><span class="p">,</span> <span class="n">tech_stack</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">irc</span> <span class="o">=</span> <span class="n">irc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">org_page</span> <span class="o">=</span> <span class="n">org_page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tech_stack</span> <span class="o">=</span> <span class="n">tech_stack</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="n">count</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <p>Count is used to find the number of times the org has been found in the URL.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;count= &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">count</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">count</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <p>Filter the Organiation as mentioned by the user. Search is done as well.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">language_filter</span><span class="p">(</span><span class="n">tech_stack_list</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">tech_stack</span> <span class="ow">in</span> <span class="n">tech_stack_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">language</span> <span class="ow">in</span> <span class="n">tech_stack</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <p>Check the frequency of the organization&rsquo;s participation.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">This is the central module to manage the data from the URL.</span>
<span class="sd">&#39;&#39;&#39;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">check_previous</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2021</span><span class="p">):</span>
        <span class="n">archive_url</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;https://summerofcode.withgoogle.com/archive/&quot;</span>
            <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
            <span class="o">+</span> <span class="s2">&quot;/organizations/&quot;</span>
        <span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p>Send the HTTPS request to the page to retrive infomation.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">archive_url</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
        <span class="n">orgs</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;organization-card__container&quot;</span><span class="p">})</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <p>Find the number of occurences from 2016 to 2020.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">for</span> <span class="n">org</span> <span class="ow">in</span> <span class="n">orgs</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">org</span><span class="p">[</span><span class="s2">&quot;aria-label&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">organization</span> <span class="ow">in</span> <span class="n">organization_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">organization</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                    <span class="n">organization</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <p>link = org.find(&ldquo;a&rdquo;,{&ldquo;class&rdquo;:&rdquo;organization-card__link&rdquo;})[&ldquo;href&rdquo;].split(&lsquo;/&rsquo;)[-2]
print(archive_url + str(link))</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <p>Definition responsible for holding all the infomation.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">1. **Table** is imported from the table module.</span>
<span class="sd">2. 6 Columns,each for a characteristic.</span>
<span class="sd">3. for organization in sorted(organization_list, reverse=True): is used to find the tech stack.</span>
<span class="sd">4.  x = 1</span>
<span class="sd">    while x != -1: is responsible to check for indexing the array and print details of the desired orgs.</span>
<span class="sd">&#39;&#39;&#39;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">print_list</span><span class="p">():</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;GSoC orgs&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;S.No&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;cyan&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Org-name&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;magenta&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;IRC&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Org Link&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Tech stack&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">organization</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">organization_list</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">tech</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">organization</span><span class="o">.</span><span class="n">tech_stack</span><span class="p">:</span>
            <span class="n">tech</span> <span class="o">=</span> <span class="n">tech</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">t</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">organization</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">organization</span><span class="o">.</span><span class="n">count</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">organization</span><span class="o">.</span><span class="n">irc</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">organization</span><span class="o">.</span><span class="n">org_page</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">tech</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">Console</span><span class="p">()</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter the index no. for getting complete links(-1 to quit): &quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">org_x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">organization_list</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Name: &quot;</span> <span class="o">+</span> <span class="n">org_x</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;IRC: &quot;</span> <span class="o">+</span> <span class="n">org_x</span><span class="o">.</span><span class="n">irc</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Organisation Link: &quot;</span> <span class="o">+</span> <span class="n">org_x</span><span class="o">.</span><span class="n">org_page</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tech Stack: &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">org_x</span><span class="o">.</span><span class="n">tech_stack</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Count: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">org_x</span><span class="o">.</span><span class="n">count</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===========================================</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Organisation is missing some value. Kindly check on GSoc Website&quot;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      <p>To add HTTP headers to a request, simply pass in a dict to the headers parameter.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;authority&quot;</span><span class="p">:</span> <span class="s2">&quot;summerofcode.withgoogle.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json, text/plain, */*&quot;</span><span class="p">,</span>
    <span class="s2">&quot;x-content-type-options&quot;</span><span class="p">:</span> <span class="s2">&quot;nosniff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sec-fetch-site&quot;</span><span class="p">:</span> <span class="s2">&quot;same-origin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sec-fetch-mode&quot;</span><span class="p">:</span> <span class="s2">&quot;cors&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sec-fetch-dest&quot;</span><span class="p">:</span> <span class="s2">&quot;empty&quot;</span><span class="p">,</span>
    <span class="s2">&quot;referer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://summerofcode.withgoogle.com/organizations/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;accept-language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-GB,en-US;q=0.9,en;q=0.8&quot;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">page_no</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">org_index</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">language</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter the language you want to filter out: &quot;</span><span class="p">))</span>

<span class="k">try</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      <p>Yaspin is used to produce the spinning moment on the CLI.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">With yaspin is used to index the Yaspin module.</span>

<span class="sd">as spinner is the function used to show the spinning animation.</span>
<span class="sd">&#39;&#39;&#39;</span>

    <span class="k">with</span> <span class="n">yaspin</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Loading current orgs&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">spinner</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">(</span>
                <span class="p">(</span><span class="s2">&quot;page&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">page_no</span><span class="p">)),</span>
                <span class="p">(</span><span class="s2">&quot;page_size&quot;</span><span class="p">,</span> <span class="s2">&quot;48&quot;</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">page_no</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s2">&quot;https://summerofcode.withgoogle.com/api/program/current/organization/&quot;</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <p>Using the JSON module along with YAML,we get access to the data extracted from year_wise.py(line 70 onwards)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">1. We can parse the above JSON string using json.loads() method from the json module. The result is a Python dictionary.</span>
<span class="sd">2. Using json.dumps() we can convert Python Objects to JSON.</span>
<span class="sd">3. def json() - Returns the json-encoded content of a response, if any.</span>
<span class="sd">4. yaml.safe_load() should be used in future releases,as yaml.load is depreciated</span>
<span class="sd">                    </span>
<span class="sd">&#39;&#39;&#39;</span>
            <span class="n">json_data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()),</span> <span class="n">yaml</span><span class="o">.</span><span class="n">Loader</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">language_filter</span><span class="p">(</span><span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;technology_tags&quot;</span><span class="p">]):</span>

                    <span class="n">name</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                    <span class="n">tech_stack</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;technology_tags&quot;</span><span class="p">]</span>
                    <span class="n">irc</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;irc_channel&quot;</span><span class="p">]</span>
                    <span class="n">org_page</span> <span class="o">=</span> <span class="n">URL</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
                    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">current_org</span> <span class="o">=</span> <span class="n">Organization</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">irc</span><span class="p">,</span> <span class="n">org_page</span><span class="p">,</span> <span class="n">tech_stack</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
                    <span class="n">organization_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_org</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">json_data</span><span class="p">[</span><span class="s2">&quot;results&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="p">[]:</span>
                <span class="k">break</span>

    <span class="n">spinner</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s2">&quot;✅ &quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">yaspin</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Counting previous year selection&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">spinner</span><span class="p">:</span>
        <span class="n">check_previous</span><span class="p">()</span>
    <span class="n">spinner</span><span class="o">.</span><span class="n">ok</span><span class="p">(</span><span class="s2">&quot;✅ &quot;</span><span class="p">)</span>
    <span class="n">print_list</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Script ran successfully!&quot;</span><span class="p">)</span>

    <span class="n">quit</span><span class="p">()</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
